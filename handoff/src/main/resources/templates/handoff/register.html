<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ユーザー登録</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: #0f1115;
      font-family: "Meiryo", "メイリオ", sans-serif;
      color: #f2f5ff;
    }
    .card {
      background: #151922;
      border: 1px solid rgba(255,255,255,.12);
    }
    .form-control {
      background: #0b0d12;
      border: 1px solid rgba(255,255,255,.25);
      color: #ffffff;
    }
    .form-control:focus {
      background: #0b0d12;
      color: #fff;
      border-color: #6ea8fe;
      box-shadow: 0 0 0 .15rem rgba(110,168,254,.25);
    }
    .form-label {
      color: #ffffff;
      font-weight: 600;
    }
    .text-muted { color: rgba(255,255,255,.65) !important; }
  </style>
</head>

<body class="min-vh-100 d-flex align-items-center">

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-7 col-lg-5">

        <div class="text-center mb-4">
          <h1 class="h3 fw-bold text-white mb-1">引き継ぎアプリ</h1>
          <div class="text-muted">ユーザー登録</div>
        </div>

        <!-- エラー表示 -->
        <div class="alert alert-danger"
             th:if="${error}"
             th:text="${error}">
        </div>

        <!-- 成功表示 -->
        <div class="alert alert-success"
             th:if="${param.registered}">
          登録が完了しました。ログインしてください。
        </div>

        <div class="card shadow-sm rounded-4">
          <div class="card-body p-4">

            <form th:action="@{/register}" method="post">
              <input type="hidden"
                     th:name="${_csrf.parameterName}"
                     th:value="${_csrf.token}" />

              <div class="mb-3">
                <label class="form-label">ログインID</label>
                <input type="text"
                       name="loginId"
                       class="form-control form-control-lg"
                       autocomplete="username"
                       th:value="${loginId}"
                       required>
              </div>

              <div class="mb-3">
                <label class="form-label">表示名</label>
                <input type="text"
                       name="displayName"
                       class="form-control form-control-lg"
                       autocomplete="nickname"
                       th:value="${displayName}"
                       required>
              </div>

              <div class="mb-3">
                <label class="form-label">パスワード</label>
                <input type="password"
                       name="password"
                       class="form-control form-control-lg"
                       autocomplete="new-password"
                       required>
              </div>

              <div class="d-grid gap-2 mt-4">
                <button class="btn btn-primary btn-lg" type="submit">
                  登録
                </button>

                <a th:href="@{/login}" class="btn btn-outline-light btn-lg">
                  ログインへ戻る
                </a>
              </div>
            </form>

          </div>
        </div>

        <div class="text-center mt-3 text-muted small">
          すでにアカウントがあるならログインへ
        </div>

      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
