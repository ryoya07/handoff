<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<body>

<nav th:fragment="header(showBack, showNew, showLogout, showWithdraw)"
     class="navbar navbar-expand-lg navbar-dark"
     style="background:#151922; border-bottom:1px solid rgba(255,255,255,.08);">

  <div class="container">
    <a class="navbar-brand fw-semibold" th:href="@{/handoff}">引き継ぎアプリ</a>

    <div class="ms-auto d-flex align-items-center gap-2">

      <!-- 戻る -->
      <a th:if="${showBack}"
         th:href="@{/handoff}"
         class="btn btn-sm btn-outline-light">
        一覧へ戻る
      </a>

      <!-- 新規作成 -->
      <a th:if="${showNew}"
         th:href="@{/handoff/new}"
         class="btn btn-sm btn-primary">
        ＋ 新規作成
      </a>

      <!-- ようこそ -->
	  <a th:href="@{/account/edit}" class="text-light text-decoration-none">
	    ようこそ <span class="fw-semibold" th:text="${loginUserName}">ユーザー</span> さん
	  </a>

      <!-- ログアウト -->
      <form th:if="${showLogout}" th:action="@{/logout}" method="post" class="m-0">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <button type="submit" class="btn btn-sm btn-outline-light">
          ログアウト
        </button>
      </form>
	  
	  <!-- 退会 -->
	  <form th:if="${showWithdraw}" th:action="@{/account/withdraw}" method="post" class="m-0">
	    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
	    <button type="submit"
	            class="btn btn-sm btn-outline-danger"
	            onclick="return confirm('本当に退会しますか？');">
	      退会
	    </button>
	  </form>

    </div>
  </div>
</nav>

</body>
</html>
